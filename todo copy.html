<!DOCTYPE html>
<html lang=ja>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>todolist</title>
    </head>
    <body>

        <input type="text" id="input_message" value="">
        <ul id=output_message>
            <!-- モックアップ -->
            <!-- <li id="testli">todo<button id="btn">削除</button></li> -->
            <!-- モックアップ -->
        </ul>

        <style>
            /* ここにスタイルを書く */
        </style>
        <script type="text/javascript">
            let im = document.getElementById("input_message");
            let isComposing = false;
            im.addEventListener('keydown',event => {
                if (im.value == ""){
                    return
                }
                if (!isComposing && event.keyCode === 13){
                    let li = document.createElement("li");
                    let bu = document.createElement("button");
                    let ul = document.getElementById("output_message");
                    let input = document.getElementById("input_message");
                    let text = ul.appendChild(li);
                    li.textContent = im.value
                    im.value = ""
                    let button = li.appendChild(bu);
                    button.innerText = "削除";
                    bu.addEventListener('click',()=>{
                        bu.parentElement.remove()
                    })
                }
            });
            im.addEventListener('compositionstart', function(event) {
                isComposing = true;
            });
            im.addEventListener('compositionend', function(event) {
                isComposing = false;
            });

// インデントがズレている。タグに同一idを付与することはできない。

        </script>
    </body>
</html>